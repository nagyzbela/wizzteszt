{
	"name": "OFP_to_BcADF_Fuel",
	"properties": {
		"description": "Copy data from OFP_xml to Fuel Tables",
		"activities": [
			{
				"name": "Copy data to OFP_FuelHeader",
				"type": "Copy",
				"dependsOn": [],
				"policy": {
					"timeout": "0.12:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"source": {
						"type": "XmlSource",
						"storeSettings": {
							"type": "AzureBlobStorageReadSettings",
							"maxConcurrentConnections": 1,
							"recursive": true,
							"enablePartitionDiscovery": false
						},
						"formatSettings": {
							"type": "XmlReadSettings",
							"validationMode": "none",
							"namespaces": true
						}
					},
					"sink": {
						"type": "SqlDWSink",
						"allowCopyCommand": true
					},
					"enableStaging": false,
					"translator": {
						"type": "TabularTranslator",
						"mappings": [
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TripFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "TripFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TripFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "TripFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TripFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "TripFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ContingencyFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "ContingencyFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ContingencyFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "ContingencyFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ContingencyFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "ContingencyFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ContingencyFuel']['ContingencyPolicy']['@policyName']"
								},
								"sink": {
									"name": "ContingencyPolicy",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['FinalReserve']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "FinalReserveEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['FinalReserve']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "FinalReserveEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['FinalReserve']['Duration']['Value']"
								},
								"sink": {
									"name": "FinalReserveDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ETOPSFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "ETOPSFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ETOPSFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "ETOPSFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ETOPSFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "ETOPSFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['PossibleExtra']['Value']['@unit']"
								},
								"sink": {
									"name": "PossibleExtraFuelUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['PossibleExtra']['Value']['_value_']"
								},
								"sink": {
									"name": "PossibleExtraFuelValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['MaximumFuelWeight']['Weight']['Value']['@unit']"
								},
								"sink": {
									"name": "PossibleExtraFuelMaximumFuelWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['MaximumFuelWeight']['Weight']['Value']['_value_']"
								},
								"sink": {
									"name": "PossibleExtraFuelMaximumFuelWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['MaximumFuelWeight']['Density']['Value']['@unit']"
								},
								"sink": {
									"name": "PossibleExtraFuelMaximumFuelWeightDensityUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['MaximumFuelWeight']['Density']['Value']['_value_']"
								},
								"sink": {
									"name": "PossibleExtraFuelMaximumFuelWeightDensityValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['TankVolume']['Value']['@unit']"
								},
								"sink": {
									"name": "PossibleExtraFuelTankVolumeUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['TankVolume']['Value']['_value_']"
								},
								"sink": {
									"name": "PossibleExtraFuelTankVolumeValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['PossibleExtraFuel']['@reason']"
								},
								"sink": {
									"name": "PossibleExtraFuelReason",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TakeOffFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "TakeOffFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TakeOffFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "TakeOffFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TakeOffFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "TakeOffFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TaxiFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "TaxiFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TaxiFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "TaxiFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['TaxiFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "TaxiFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['BlockFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "BlockFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['BlockFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "BlockFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['BlockFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "BlockFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ArrivalFuel']['EstimatedWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "ArrivalFuelEstimatedWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ArrivalFuel']['EstimatedWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "ArrivalFuelEstimatedWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelHeader']['ArrivalFuel']['Duration']['Value']"
								},
								"sink": {
									"name": "ArrivalFuelDurationValue",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['@flightPlanId']"
								},
								"sink": {
									"name": "FlightPlanId",
									"type": "String"
								}
							}
						],
						"mapComplexValuesToString": false
					}
				},
				"inputs": [
					{
						"referenceName": "OFP_xml",
						"type": "DatasetReference"
					}
				],
				"outputs": [
					{
						"referenceName": "synapse_BcAdfLido",
						"type": "DatasetReference",
						"parameters": {
							"table_name": "OFP_FuelHeader"
						}
					}
				]
			},
			{
				"name": "Copy data to OFP FuelStatistic",
				"type": "Copy",
				"dependsOn": [],
				"policy": {
					"timeout": "0.12:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"source": {
						"type": "XmlSource",
						"storeSettings": {
							"type": "AzureBlobStorageReadSettings",
							"maxConcurrentConnections": 1,
							"recursive": true,
							"enablePartitionDiscovery": false
						},
						"formatSettings": {
							"type": "XmlReadSettings",
							"validationMode": "none",
							"namespaces": true
						}
					},
					"sink": {
						"type": "SqlDWSink",
						"allowCopyCommand": true
					},
					"enableStaging": false,
					"translator": {
						"type": "TabularTranslator",
						"mappings": [
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['AnalysedFuelCategory']"
								},
								"sink": {
									"name": "AnalysedFuelCategory",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['NumberOfConsideredFlights']"
								},
								"sink": {
									"name": "NumberOfConsideredFlights",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['Remark']['Paragraph']['Text']"
								},
								"sink": {
									"name": "Remark",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['@flightPlanId']"
								},
								"sink": {
									"name": "FlightPlanId",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['AnalysedFuelValue'][0]['@elapsedTime']"
								},
								"sink": {
									"name": "AnalysedFuelElapsedTime",
									"type": "Int32"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['AnalysedFuelValue'][0]['@unit']"
								},
								"sink": {
									"name": "AnalysedFuelUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['AnalysedFuelValue'][0]['@analysedFuelText']"
								},
								"sink": {
									"name": "AnalysedFuelText",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['FuelStatistics']['FuelStatistic']['AnalysedFuelValue'][0]['_value_']"
								},
								"sink": {
									"name": "AnalysedFuelValue",
									"type": "Single"
								}
							}
						],
						"collectionReference": "",
						"mapComplexValuesToString": false
					}
				},
				"inputs": [
					{
						"referenceName": "OFP_xml",
						"type": "DatasetReference"
					}
				],
				"outputs": [
					{
						"referenceName": "synapse_BcAdfLido",
						"type": "DatasetReference",
						"parameters": {
							"table_name": "OFP_FuelStatistic"
						}
					}
				]
			},
			{
				"name": "Copy data to OFP TankeringInfo",
				"type": "Copy",
				"dependsOn": [],
				"policy": {
					"timeout": "0.12:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"source": {
						"type": "XmlSource",
						"storeSettings": {
							"type": "AzureBlobStorageReadSettings",
							"maxConcurrentConnections": 1,
							"recursive": true,
							"enablePartitionDiscovery": false
						},
						"formatSettings": {
							"type": "XmlReadSettings",
							"validationMode": "none",
							"namespaces": true
						}
					},
					"sink": {
						"type": "SqlDWSink",
						"allowCopyCommand": true
					},
					"enableStaging": false,
					"translator": {
						"type": "TabularTranslator",
						"mappings": [
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringAdvice']['@priority']"
								},
								"sink": {
									"name": "TankeringAdvicePriority",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringAdvice']['_value_']"
								},
								"sink": {
									"name": "TankeringAdvice",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringWeight']['Value']['@unit']"
								},
								"sink": {
									"name": "TankeringWeightUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringWeight']['Value']['_value_']"
								},
								"sink": {
									"name": "TankeringWeightValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringProfit']['@unit']"
								},
								"sink": {
									"name": "TankeringProfitUnit",
									"type": "String"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['TankeringInfo']['TankeringProfit']['_value_']"
								},
								"sink": {
									"name": "TankeringProfitValue",
									"type": "Single"
								}
							},
							{
								"source": {
									"path": "$['FlightPlan']['@flightPlanId']"
								},
								"sink": {
									"name": "FlightPlanId",
									"type": "String"
								}
							}
						],
						"collectionReference": "",
						"mapComplexValuesToString": false
					}
				},
				"inputs": [
					{
						"referenceName": "OFP_xml",
						"type": "DatasetReference"
					}
				],
				"outputs": [
					{
						"referenceName": "synapse_BcAdfLido",
						"type": "DatasetReference",
						"parameters": {
							"table_name": "OFP_TankeringInfo"
						}
					}
				]
			}
		],
		"annotations": []
	}
}