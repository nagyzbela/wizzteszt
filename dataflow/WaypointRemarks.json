{
	"name": "WaypointRemarks",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "OFP_xml",
						"type": "DatasetReference"
					},
					"name": "OFP"
				}
			],
			"sinks": [
				{
					"dataset": {
						"referenceName": "OFP_WeightHeader_Remark",
						"type": "DatasetReference"
					},
					"name": "OFPWeightHeaderRemark"
				}
			],
			"transformations": [
				{
					"name": "flatten1"
				},
				{
					"name": "derivedColumn1"
				}
			],
			"scriptLines": [
				"parameters{",
				"     TCreatedId as string (\"test\"),",
				"     TFileName as string (\"test\"),",
				"     TLoadDate as date (currentDate())",
				"}",
				"source(output(",
				"          {http://aeec.aviation-ia.net/633,FlightPlan} as ({@category} as string, {@computedTime} as string, {@flightPlanId} as string, {http://aeec.aviation-ia.net/633,AirportDataList} as ({http://aeec.aviation-ia.net/633,AirportData} as ({http://aeec.aviation-ia.net/633,Airport} as ({@airportFunction} as string, {@airportName} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,PlannedRunway} as string, {http://aeec.aviation-ia.net/633,SuitablePeriod} as ({@from} as timestamp, {@until} as timestamp), {http://aeec.aviation-ia.net/633,TerminalProcedure} as ({@procedureType} as string, {http://aeec.aviation-ia.net/633,_value_} as string)[])[]), {http://aeec.aviation-ia.net/633,AlternateRoutes} as ({http://aeec.aviation-ia.net/633,AlternateRoute} as ({http://aeec.aviation-ia.net/633,Airport} as ({@airportFunction} as string, {@airportName} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,RouteInformation} as ({http://aeec.aviation-ia.net/633,AirDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageISADeviation} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageWind} as ({http://aeec.aviation-ia.net/633,Direction} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Speed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,AverageWindComponent} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,GreatCircleDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,GroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,InitialAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RouteDescription} as string), {http://aeec.aviation-ia.net/633,Status} as string, {http://aeec.aviation-ia.net/633,Waypoints} as ({http://aeec.aviation-ia.net/633,Waypoint} as ({@countryICAOCode} as string, {@sequenceId} as short, {@waypointId} as string, {@waypointLongName} as string, {@waypointName} as string, {http://aeec.aviation-ia.net/633,AirDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Airway} as ({@type} as string, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,Altitude} as ({http://aeec.aviation-ia.net/633,EstimatedAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,BurnOff} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,Coordinates} as ({@latitude} as integer, {@longitude} as integer, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,CumulatedBurnOff} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,CumulatedFlightTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,FuelOnBoard} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,Function} as string, {http://aeec.aviation-ia.net/633,GroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,GroundSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,IndicatedAirSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,MachNumber} as ({http://aeec.aviation-ia.net/633,EstimatedMachNumber} as ({http://aeec.aviation-ia.net/633,Value} as double)), {http://aeec.aviation-ia.net/633,MinimumFuelOnBoard} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,MinimumSafeAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RemainingFlightTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,RemainingGroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentISADeviation} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentShearRate} as ({http://aeec.aviation-ia.net/633,AltitudeDifference} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short), {http://aeec.aviation-ia.net/633,SegmentVerticalWindChange} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as double))), {http://aeec.aviation-ia.net/633,SegmentTemperature} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentWind} as ({http://aeec.aviation-ia.net/633,Direction} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Speed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TimeFromPreviousWaypoint} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,Tracks} as ({http://aeec.aviation-ia.net/633,OutboundTrack} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))[], {http://aeec.aviation-ia.net/633,SegmentTrack} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))[]), {http://aeec.aviation-ia.net/633,Tropopause} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,TrueAirSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))))[]))[]), {http://aeec.aviation-ia.net/633,ETOPSSummary} as ({@borderTime} as string, {@ruleTime} as string, {http://aeec.aviation-ia.net/633,AdequateAirports} as ({http://aeec.aviation-ia.net/633,AdequateAirport} as ({@airportFunction} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string)[]), {http://aeec.aviation-ia.net/633,CriticalPositions} as ({http://aeec.aviation-ia.net/633,CriticalPosition} as ({@criticalPositionType} as string, {@sequenceId} as boolean, {http://aeec.aviation-ia.net/633,Condition} as string, {http://aeec.aviation-ia.net/633,Coordinates} as ({@latitude} as integer, {@longitude} as integer, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,CriticalTime} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,FuelOnBoard} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,PositionName} as string, {http://aeec.aviation-ia.net/633,SuitableAirport} as ({http://aeec.aviation-ia.net/633,Airport} as ({@airportFunction} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,Altitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageISADeviation} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageWind} as ({http://aeec.aviation-ia.net/633,Direction} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Speed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,AverageWindComponent} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,CriticalFuel} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,CruiseProcedure} as ({@procedure} as string), {http://aeec.aviation-ia.net/633,IcingConditionFuel} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as boolean)), {http://aeec.aviation-ia.net/633,MinimumSafeAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RemainingAirDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RemainingFlightTime} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,RemainingGroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Tracks} as ({http://aeec.aviation-ia.net/633,SegmentTrack} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))))[]))), {http://aeec.aviation-ia.net/633,FlightInfo} as ({@aTCCallsign} as string, {@captain} as string), {http://aeec.aviation-ia.net/633,FlightPlanHeader} as ({http://aeec.aviation-ia.net/633,AuthorInformation} as ({http://aeec.aviation-ia.net/633,AuthorContact} as ({http://aeec.aviation-ia.net/633,DispatchOffice} as string, {http://aeec.aviation-ia.net/633,PhoneNumber} as string, {http://aeec.aviation-ia.net/633,TelexAddress} as string), {http://aeec.aviation-ia.net/633,AuthorName} as ({@authorType} as string, {http://aeec.aviation-ia.net/633,_value_} as string)), {http://aeec.aviation-ia.net/633,AverageFuelFlow} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,PerformanceFactor} as double, {http://aeec.aviation-ia.net/633,RouteInformation} as ({@optimization} as string, {@routeName} as string, {http://aeec.aviation-ia.net/633,AirDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageISADeviation} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageTemperature} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AverageWind} as ({http://aeec.aviation-ia.net/633,Direction} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Speed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,AverageWindComponent} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,ClimbProcedure} as ({@procedure} as string, {http://aeec.aviation-ia.net/633,CostIndex} as ({http://aeec.aviation-ia.net/633,Value} as short)), {http://aeec.aviation-ia.net/633,CruiseProcedure} as ({@procedure} as string, {http://aeec.aviation-ia.net/633,CostIndex} as ({http://aeec.aviation-ia.net/633,Value} as short)), {http://aeec.aviation-ia.net/633,DescentProcedure} as ({@procedure} as string, {http://aeec.aviation-ia.net/633,CostIndex} as ({http://aeec.aviation-ia.net/633,Value} as short)), {http://aeec.aviation-ia.net/633,GreatCircleDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,GroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,InitialAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RouteDescription} as string), {http://www.lido.net/lsya,FlightPlanHeaderExtension} as ({http://www.lido.net/lsya,LCBTaxiFuelFlowExtension} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)))), {http://aeec.aviation-ia.net/633,FlightPlanSummary} as ({http://aeec.aviation-ia.net/633,BlockTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,FlightTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,InTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as timestamp)), {http://aeec.aviation-ia.net/633,OffTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as timestamp)), {http://aeec.aviation-ia.net/633,OnTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as timestamp)), {http://aeec.aviation-ia.net/633,OutTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as timestamp)), {http://aeec.aviation-ia.net/633,ScheduledTimeOfArrival} as timestamp, {http://aeec.aviation-ia.net/633,TaxiInTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,TaxiOutTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string))), {http://aeec.aviation-ia.net/633,FuelHeader} as ({http://aeec.aviation-ia.net/633,Adjustments} as ({@deviationReason} as string, {http://aeec.aviation-ia.net/633,AffectedItems} as ({@deviationReasonChange} as short, {@unit} as string, {http://aeec.aviation-ia.net/633,Adjustment} as ({@affectedItem} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)[]))[], {http://aeec.aviation-ia.net/633,AlternateFuels} as ({http://aeec.aviation-ia.net/633,AlternateFuel} as ({http://aeec.aviation-ia.net/633,Airport} as ({@airportFunction} as string, {@airportName} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)))[]), {http://aeec.aviation-ia.net/633,ArrivalFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,BlockFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,ContingencyFuel} as ({http://aeec.aviation-ia.net/633,ContingencyPolicy} as ({@policyName} as string), {http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,ETOPSFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as boolean))), {http://aeec.aviation-ia.net/633,FinalReserve} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,PossibleExtraFuel} as ({@reason} as string, {http://aeec.aviation-ia.net/633,MaximumFuelWeight} as ({http://aeec.aviation-ia.net/633,Density} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as double)), {http://aeec.aviation-ia.net/633,Weight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,PossibleExtra} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,TankVolume} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TakeOffFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TaxiFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TripFuel} as ({http://aeec.aviation-ia.net/633,Duration} as ({http://aeec.aviation-ia.net/633,Value} as string), {http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)))), {http://aeec.aviation-ia.net/633,FuelStatistics} as ({http://aeec.aviation-ia.net/633,FuelStatistic} as ({http://aeec.aviation-ia.net/633,AnalysedFuelCategory} as string, {http://aeec.aviation-ia.net/633,AnalysedFuelValue} as ({@analysedFuelText} as string, {@elapsedTime} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)[], {http://aeec.aviation-ia.net/633,NumberOfConsideredFlights} as short, {http://aeec.aviation-ia.net/633,Remark} as ({http://aeec.aviation-ia.net/633,Paragraph} as ({@sequence} as integer, {http://aeec.aviation-ia.net/633,Text} as string)))), {http://aeec.aviation-ia.net/633,M633Header} as ({@timestamp} as timestamp, {@versionNumber} as short), {http://aeec.aviation-ia.net/633,M633SupplementaryHeader} as ({http://aeec.aviation-ia.net/633,Aircraft} as ({@aircraftRegistration} as string, {http://aeec.aviation-ia.net/633,AircraftModel} as ({@airlineSpecificSubType} as string, {http://aeec.aviation-ia.net/633,AircraftICAOType} as string)), {http://aeec.aviation-ia.net/633,Flight} as ({@flightOriginDate} as date, {@scheduledTimeOfDeparture} as timestamp, {http://aeec.aviation-ia.net/633,ArrivalAirport} as ({@airportFunction} as string, {@airportName} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,DepartureAirport} as ({@airportFunction} as string, {@airportName} as string, {http://aeec.aviation-ia.net/633,AirportIATACode} as string, {http://aeec.aviation-ia.net/633,AirportICAOCode} as string), {http://aeec.aviation-ia.net/633,FlightIdentification} as ({http://aeec.aviation-ia.net/633,FlightIdentifier} as string, {http://aeec.aviation-ia.net/633,FlightNumber} as ({@airlineIATACode} as string, {@number} as short, {http://aeec.aviation-ia.net/633,CommercialFlightNumber} as string)))), {http://aeec.aviation-ia.net/633,NonStandardFlightPlanningType} as ({http://aeec.aviation-ia.net/633,ETOPS} as boolean), {http://aeec.aviation-ia.net/633,Remarks} as ({http://aeec.aviation-ia.net/633,Remark} as ({@remarkType} as string, {http://aeec.aviation-ia.net/633,Paragraph} as ({@sequence} as integer, {http://aeec.aviation-ia.net/633,Text} as string))[]), {http://aeec.aviation-ia.net/633,TankeringInfo} as ({http://aeec.aviation-ia.net/633,TankeringAdvice} as ({@priority} as string, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,TankeringProfit} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short), {http://aeec.aviation-ia.net/633,TankeringWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as boolean))), {http://aeec.aviation-ia.net/633,Waypoints} as ({http://aeec.aviation-ia.net/633,Waypoint} as ({@countryICAOCode} as string, {@sequenceId} as short, {@waypointId} as string, {@waypointLongName} as string, {@waypointName} as string, {http://aeec.aviation-ia.net/633,AirDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,AircraftWeight} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))), {http://aeec.aviation-ia.net/633,Airspace} as ({@airspaceICAOCode} as string, {http://aeec.aviation-ia.net/633,AirspaceName} as string), {http://aeec.aviation-ia.net/633,Airway} as ({@type} as string, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,Altitude} as ({http://aeec.aviation-ia.net/633,EstimatedAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,BurnOff} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,Coordinates} as ({@latitude} as integer, {@longitude} as integer, {http://aeec.aviation-ia.net/633,_value_} as string), {http://aeec.aviation-ia.net/633,CumulatedBurnOff} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,CumulatedFlightTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,FuelOnBoard} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,Function} as string[], {http://aeec.aviation-ia.net/633,GroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,GroundSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,IndicatedAirSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,MachNumber} as ({http://aeec.aviation-ia.net/633,EstimatedMachNumber} as ({http://aeec.aviation-ia.net/633,Value} as double)), {http://aeec.aviation-ia.net/633,MinimumFuelOnBoard} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,MinimumSafeAltitude} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,RemainingFlightTime} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,RemainingGroundDistance} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentISADeviation} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentShearRate} as ({http://aeec.aviation-ia.net/633,AltitudeDifference} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short), {http://aeec.aviation-ia.net/633,SegmentVerticalWindChange} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as double))), {http://aeec.aviation-ia.net/633,SegmentTemperature} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,SegmentWind} as ({http://aeec.aviation-ia.net/633,Direction} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as boolean, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,Speed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TimeFromPreviousWaypoint} as ({http://aeec.aviation-ia.net/633,EstimatedTime} as ({http://aeec.aviation-ia.net/633,Value} as string)), {http://aeec.aviation-ia.net/633,Tracks} as ({http://aeec.aviation-ia.net/633,OutboundTrack} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))[], {http://aeec.aviation-ia.net/633,SegmentTrack} as ({http://aeec.aviation-ia.net/633,Value} as ({@type} as string, {@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))[]), {http://aeec.aviation-ia.net/633,Tropopause} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short)), {http://aeec.aviation-ia.net/633,TrueAirSpeed} as ({http://aeec.aviation-ia.net/633,EstimatedSpeed} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))))[], {http://www.lido.net/lsya,LCBNATIdentifierExtension} as ({http://www.lido.net/lsya,MNPSAirspaceCrossed} as ({@value} as boolean))), {http://aeec.aviation-ia.net/633,WeightHeader} as ({http://aeec.aviation-ia.net/633,DryOperatingWeight} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))), {http://aeec.aviation-ia.net/633,LandingWeight} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer)), {http://aeec.aviation-ia.net/633,OperationalLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer)), {http://aeec.aviation-ia.net/633,StructuralLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))), {http://aeec.aviation-ia.net/633,Load} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as short))), {http://aeec.aviation-ia.net/633,TakeoffWeight} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer)), {http://aeec.aviation-ia.net/633,OperationalLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer)), {http://aeec.aviation-ia.net/633,StructuralLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))), {http://aeec.aviation-ia.net/633,ZeroFuelWeight} as ({http://aeec.aviation-ia.net/633,EstimatedWeight} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer)), {http://aeec.aviation-ia.net/633,StructuralLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))), {http://www.lido.net/lsya,WeightHeaderExtension} as ({http://www.lido.net/lsya,LCBTaxiWeightExtension} as ({http://www.lido.net/lsya,StructuralLimit} as ({http://aeec.aviation-ia.net/633,Value} as ({@unit} as string, {http://aeec.aviation-ia.net/633,_value_} as integer))))))",
				"     ),",
				"     allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     ignoreNoFilesFound: false,",
				"     validationMode: 'none',",
				"     namespaces: true) ~> OFP",
				"OFP foldDown(unroll({http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,Remarks}.{http://aeec.aviation-ia.net/633,Remark}),",
				"     mapColumn(",
				"          {@category} = {http://aeec.aviation-ia.net/633,FlightPlan}.{@category},",
				"          {@computedTime} = {http://aeec.aviation-ia.net/633,FlightPlan}.{@computedTime},",
				"          {@flightPlanId} = {http://aeec.aviation-ia.net/633,FlightPlan}.{@flightPlanId},",
				"          {http://aeec.aviation-ia.net/633,AirportDataList} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,AirportDataList},",
				"          {http://aeec.aviation-ia.net/633,AlternateRoutes} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,AlternateRoutes},",
				"          {http://aeec.aviation-ia.net/633,ETOPSSummary} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,ETOPSSummary},",
				"          {http://aeec.aviation-ia.net/633,FlightInfo} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,FlightInfo},",
				"          {http://aeec.aviation-ia.net/633,FlightPlanHeader} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,FlightPlanHeader},",
				"          {http://aeec.aviation-ia.net/633,FlightPlanSummary} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,FlightPlanSummary},",
				"          {http://aeec.aviation-ia.net/633,FuelHeader} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,FuelHeader},",
				"          {http://aeec.aviation-ia.net/633,FuelStatistics} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,FuelStatistics},",
				"          {http://aeec.aviation-ia.net/633,M633Header} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,M633Header},",
				"          {http://aeec.aviation-ia.net/633,M633SupplementaryHeader} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,M633SupplementaryHeader},",
				"          {http://aeec.aviation-ia.net/633,NonStandardFlightPlanningType} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,NonStandardFlightPlanningType},",
				"          {@remarkType} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,Remarks}.{http://aeec.aviation-ia.net/633,Remark}.{@remarkType},",
				"          {http://aeec.aviation-ia.net/633,Paragraph} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,Remarks}.{http://aeec.aviation-ia.net/633,Remark}.{http://aeec.aviation-ia.net/633,Paragraph},",
				"          {http://aeec.aviation-ia.net/633,TankeringInfo} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,TankeringInfo},",
				"          {http://aeec.aviation-ia.net/633,Waypoints} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,Waypoints},",
				"          {http://aeec.aviation-ia.net/633,WeightHeader} = {http://aeec.aviation-ia.net/633,FlightPlan}.{http://aeec.aviation-ia.net/633,WeightHeader}",
				"     ),",
				"     skipDuplicateMapInputs: false,",
				"     skipDuplicateMapOutputs: false) ~> flatten1",
				"flatten1 derive(BTime = $TCreatedId,",
				"          BId = $TCreatedId,",
				"          BName = $TFileName) ~> derivedColumn1",
				"derivedColumn1 sink(allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     input(",
				"          FlightPlanId as string,",
				"          RemarkType as string,",
				"          Sequence as integer,",
				"          Text as string,",
				"          TCreatedId as string,",
				"          TLoadDate as timestamp,",
				"          TFileName as string",
				"     ),",
				"     deletable:false,",
				"     insertable:true,",
				"     updateable:false,",
				"     upsertable:false,",
				"     format: 'table',",
				"     staged: true,",
				"     allowCopyCommand: true,",
				"     skipDuplicateMapOutputs: true,",
				"     errorHandlingOption: 'stopOnFirstError',",
				"     mapColumn(",
				"          FlightPlanId = {@flightPlanId},",
				"          RemarkType = {@remarkType},",
				"          Sequence = {http://aeec.aviation-ia.net/633,Paragraph}.{@sequence},",
				"          Text = {http://aeec.aviation-ia.net/633,Paragraph}.{http://aeec.aviation-ia.net/633,Text},",
				"          TCreatedId = BId,",
				"          TLoadDate = BTime,",
				"          TFileName = BName",
				"     )) ~> OFPWeightHeaderRemark"
			]
		}
	}
}